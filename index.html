<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SleepyTon Dragon Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0f172a; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; padding-bottom: 80px; overflow-x: hidden; }
        
        /* Sayfa GeÃ§iÅŸleri */
        .page { display: none; padding: 20px; animation: fadeIn 0.3s ease; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ãœst Bilgi KartÄ± */
        .header-card { 
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            padding: 20px; border-radius: 20px; margin-bottom: 20px; 
            border: 1px solid #38bdf8; text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        /* Ana Ejderha Resmi */
        .dragon-container { position: relative; width: 200px; height: 200px; margin: 30px auto; }
        .dragon-img { 
            width: 100%; height: 100%; border-radius: 50%; 
            border: 5px solid #38bdf8; 
            box-shadow: 0 0 30px rgba(56, 189, 248, 0.4);
            object-fit: cover;
            background: #1e293b;
        }

        /* Alt MenÃ¼ (Navigasyon) */
        .nav-bar { 
            position: fixed; bottom: 0; width: 100%; background: #1e293b; 
            display: flex; justify-content: space-around; padding: 15px 0; 
            border-top: 2px solid #334155; z-index: 100;
        }
        .nav-item { color: #94a3b8; text-decoration: none; font-size: 12px; display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: 0.2s; }
        .nav-item.active-nav { color: #38bdf8; transform: translateY(-5px); }

        /* MaÄŸaza KartlarÄ± */
        .shop-card { background: #1e293b; padding: 15px; border-radius: 15px; margin-bottom: 15px; border: 1px solid #334155; }
        .btn { 
            background: #38bdf8; color: #0f172a; border: none; padding: 12px; 
            border-radius: 10px; width: 100%; font-weight: bold; cursor: pointer;
            transition: 0.2s; margin-top: 10px;
        }
    </style>
</head>
<body>

    <div id="page-mine" class="page active">
        <div class="header-card">
            <h2 style="margin:0; color:#38bdf8;">ğŸ’¤ SleepyTon</h2>
            <div style="font-size: 28px; font-weight: bold; margin: 10px 0;">
                <span id="bakiye">0.00</span> <span style="font-size:16px; color:#94a3b8;">ğŸ’</span>
            </div>
            <div style="color: #4ade80;">HÄ±z: +<span id="hiz">0</span>/saat</div>
        </div>

        <div class="dragon-container">
            <img src="https://img.freepik.com/free-vector/cute-dragon-sleeping-cartoon-vector-icon-illustration-animal-nature-icon-concept-isolated-premium-flat-vector_138676-3918.jpg" class="dragon-img" id="main-dragon">
        </div>

        <div id="status-area" style="text-align:center;">
            <p id="timer-text" style="color:#94a3b8;">Ejderha derin uykuda kazÄ±yor...</p>
            <button id="wake-btn" class="btn" style="display:none; background:#fb7185;" onclick="uyandir()">â° EjderhayÄ± UyandÄ±r!</button>
        </div>
    </div>

    <div id="page-shop" class="page">
        <h3 style="border-bottom: 2px solid #38bdf8; padding-bottom: 10px;">ğŸ›’ Ejderha MaÄŸazasÄ±</h3>
        
        <div class="shop-card">
            <h4>Bebek Ejderha ğŸ¥š</h4>
            <p>Maliyet: 500 ğŸ’ | KazanÃ§: +50/s</p>
            <button class="btn" onclick="satinal(500, 50)">SatÄ±n Al</button>
        </div>

        <div class="shop-card">
            <h4>YeÅŸil Uykucu Ejder ğŸ²</h4>
            <p>Maliyet: 5.000 ğŸ’ | KazanÃ§: +600/s</p>
            <button class="btn" onclick="satinal(5000, 600)">SatÄ±n Al</button>
        </div>
    </div>

    <div id="page-wallet" class="page">
        <h3>ğŸ’° CÃ¼zdanÄ±m</h3>
        <div class="header-card">
            <p>Ã‡ekilebilir Bakiye</p>
            <h2 id="bakiye-wallet">0.00</h2>
        </div>
        <div class="shop-card">
            <input type="text" placeholder="TON CÃ¼zdan Adresi" style="width:100%; background:#0f172a; border:1px solid #334155; color:white; padding:10px; border-radius:8px; box-sizing:border-box;">
            <button class="btn" onclick="alert('Minimum 1.000.000 Elmas gereklidir.')">Para Ã‡ek</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active-nav" onclick="tab('page-mine', this)">
            <span style="font-size:20px;">â›ï¸</span>
            <span>Maden</span>
        </div>
        <div class="nav-item" onclick="tab('page-shop', this)">
            <span style="font-size:20px;">ğŸ›’</span>
            <span>MaÄŸaza</span>
        </div>
        <div class="nav-item" onclick="tab('page-wallet', this)">
            <span style="font-size:20px;">ğŸ’°</span>
            <span>CÃ¼zdan</span>
        </div>
    </div>

    <script>
        let bakiye = 0;
        let hiz = 0;
        let sonUyandirma = Date.now();

        function tab(pageId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-nav'));
            document.getElementById(pageId).classList.add('active');
            el.classList.add('active-nav');
        }

        function satinal(fiyat, gelir) {
            if (bakiye >= fiyat) {
                bakiye -= fiyat;
                hiz += gelir;
                updateDisplay();
                alert("Ejderha yuvasÄ±na katÄ±ldÄ±!");
            } else { alert("Yeterli elmasÄ±n yok!"); }
        }

        function uyandir() {
            sonUyandirma = Date.now();
            document.getElementById('wake-btn').style.display = 'none';
            document.getElementById('timer-text').innerText = "Ejderha derin uykuda kazÄ±yor...";
        }

        function updateDisplay() {
            document.getElementById('bakiye').innerText = bakiye.toFixed(2);
            document.getElementById('bakiye-wallet').innerText = bakiye.toFixed(2);
            document.getElementById('hiz').innerText = hiz;
        }

        setInterval(() => {
            let simdi = Date.now();
            let gecenSureSaat = (simdi - sonUyandirma) / (1000 * 60 * 60);

            if (gecenSureSaat <= 12) {
                bakiye += (hiz / 3600);
                updateDisplay();
            } else {
                document.getElementById('wake-btn').style.display = 'block';
                document.getElementById('timer-text').innerText = "Ejderha uykuya daldÄ±!";
            }
        }, 1000);
    </script>
</body>
</html>
